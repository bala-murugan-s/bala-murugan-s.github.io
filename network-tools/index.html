<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Tools - Balamurugan S</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [activeTab, setActiveTab] = useState('subnet');

            // Subnet Calculator
            const SubnetCalculator = () => {
                const [ip, setIp] = useState('192.168.1.0');
                const [cidr, setCidr] = useState('24');
                const [result, setResult] = useState(null);

                const calculateSubnet = () => {
                    try {
                        const mask = parseInt(cidr);
                        if (mask < 0 || mask > 32) throw new Error('Invalid CIDR');
                        
                        const ipParts = ip.split('.').map(Number);
                        if (ipParts.length !== 4 || ipParts.some(p => p < 0 || p > 255)) {
                            throw new Error('Invalid IP');
                        }

                        const totalHosts = Math.pow(2, 32 - mask);
                        const usableHosts = totalHosts - 2;
                        
                        const maskBinary = '1'.repeat(mask) + '0'.repeat(32 - mask);
                        const subnetMask = [
                            parseInt(maskBinary.substr(0, 8), 2),
                            parseInt(maskBinary.substr(8, 8), 2),
                            parseInt(maskBinary.substr(16, 8), 2),
                            parseInt(maskBinary.substr(24, 8), 2)
                        ].join('.');

                        const ipBinary = ipParts.map(p => p.toString(2).padStart(8, '0')).join('');
                        const networkBinary = ipBinary.substr(0, mask) + '0'.repeat(32 - mask);
                        const networkAddr = [
                            parseInt(networkBinary.substr(0, 8), 2),
                            parseInt(networkBinary.substr(8, 8), 2),
                            parseInt(networkBinary.substr(16, 8), 2),
                            parseInt(networkBinary.substr(24, 8), 2)
                        ].join('.');

                        const broadcastBinary = ipBinary.substr(0, mask) + '1'.repeat(32 - mask);
                        const broadcastAddr = [
                            parseInt(broadcastBinary.substr(0, 8), 2),
                            parseInt(broadcastBinary.substr(8, 8), 2),
                            parseInt(broadcastBinary.substr(16, 8), 2),
                            parseInt(broadcastBinary.substr(24, 8), 2)
                        ].join('.');

                        const firstHost = networkAddr.split('.');
                        firstHost[3] = parseInt(firstHost[3]) + 1;
                        const firstHostAddr = firstHost.join('.');

                        const lastHost = broadcastAddr.split('.');
                        lastHost[3] = parseInt(lastHost[3]) - 1;
                        const lastHostAddrStr = lastHost.join('.');

                        const wildcardMask = [
                            255 - parseInt(maskBinary.substr(0, 8), 2),
                            255 - parseInt(maskBinary.substr(8, 8), 2),
                            255 - parseInt(maskBinary.substr(16, 8), 2),
                            255 - parseInt(maskBinary.substr(24, 8), 2)
                        ].join('.');

                        setResult({
                            network: networkAddr,
                            broadcast: broadcastAddr,
                            subnetMask: subnetMask,
                            wildcardMask: wildcardMask,
                            firstHost: firstHostAddr,
                            lastHost: lastHostAddrStr,
                            totalHosts: totalHosts,
                            usableHosts: usableHosts > 0 ? usableHosts : 0
                        });
                    } catch (e) {
                        setResult({ error: 'Invalid input. Please check IP and CIDR values.' });
                    }
                };

                return (
                    <div className="bg-white rounded-lg shadow-lg p-6">
                        <h3 className="text-2xl font-bold mb-4">Subnet Calculator</h3>
                        <div className="grid md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label className="block text-sm font-medium mb-2">IP Address</label>
                                <input
                                    type="text"
                                    value={ip}
                                    onChange={(e) => setIp(e.target.value)}
                                    className="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                    placeholder="192.168.1.0"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium mb-2">CIDR Notation</label>
                                <input
                                    type="number"
                                    value={cidr}
                                    onChange={(e) => setCidr(e.target.value)}
                                    min="0"
                                    max="32"
                                    className="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                />
                            </div>
                        </div>
                        <button
                            onClick={calculateSubnet}
                            className="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-semibold"
                        >
                            Calculate
                        </button>
                        {result && !result.error && (
                            <div className="mt-6 grid md:grid-cols-2 gap-4">
                                <div className="bg-blue-50 p-4 rounded-lg border border-blue-200">
                                    <p className="text-sm text-gray-600 mb-1">Network Address</p>
                                    <p className="text-lg font-mono font-bold text-blue-600">{result.network}/{cidr}</p>
                                </div>
                                <div className="bg-gray-50 p-4 rounded-lg">
                                    <p className="text-sm text-gray-600 mb-1">Subnet Mask</p>
                                    <p className="text-lg font-mono font-bold">{result.subnetMask}</p>
                                </div>
                                <div className="bg-gray-50 p-4 rounded-lg">
                                    <p className="text-sm text-gray-600 mb-1">Wildcard Mask</p>
                                    <p className="text-lg font-mono font-bold">{result.wildcardMask}</p>
                                </div>
                                <div className="bg-gray-50 p-4 rounded-lg">
                                    <p className="text-sm text-gray-600 mb-1">Broadcast Address</p>
                                    <p className="text-lg font-mono font-bold">{result.broadcast}</p>
                                </div>
                                <div className="bg-green-50 p-4 rounded-lg border border-green-200">
                                    <p className="text-sm text-gray-600 mb-1">First Host</p>
                                    <p className="text-lg font-mono font-bold text-green-600">{result.firstHost}</p>
                                </div>
                                <div className="bg-green-50 p-4 rounded-lg border border-green-200">
                                    <p className="text-sm text-gray-600 mb-1">Last Host</p>
                                    <p className="text-lg font-mono font-bold text-green-600">{result.lastHost}</p>
                                </div>
                                <div className="bg-purple-50 p-4 rounded-lg border border-purple-200">
                                    <p className="text-sm text-gray-600 mb-1">Total Hosts</p>
                                    <p className="text-lg font-mono font-bold text-purple-600">{result.totalHosts.toLocaleString()}</p>
                                </div>
                                <div className="bg-purple-50 p-4 rounded-lg border border-purple-200">
                                    <p className="text-sm text-gray-600 mb-1">Usable Hosts</p>
                                    <p className="text-lg font-mono font-bold text-purple-600">{result.usableHosts.toLocaleString()}</p>
                                </div>
                            </div>
                        )}
                        {result?.error && (
                            <div className="mt-4 bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg">
                                {result.error}
                            </div>
                        )}
                    </div>
                );
            };

            // CIDR Reference
            const CIDRReference = () => {
                const cidrs = [];
                for (let i = 32; i >= 8; i--) {
                    const hosts = Math.pow(2, 32 - i);
                    const usable = hosts - 2;
                    const maskBinary = '1'.repeat(i) + '0'.repeat(32 - i);
                    const mask = [
                        parseInt(maskBinary.substr(0, 8), 2),
                        parseInt(maskBinary.substr(8, 8), 2),
                        parseInt(maskBinary.substr(16, 8), 2),
                        parseInt(maskBinary.substr(24, 8), 2)
                    ].join('.');
                    cidrs.push({ cidr: i, mask, hosts, usable: usable > 0 ? usable : 0 });
                }

                return (
                    <div className="bg-white rounded-lg shadow-lg p-6">
                        <h3 className="text-2xl font-bold mb-4">CIDR Notation Reference</h3>
                        <div className="overflow-x-auto">
                            <table className="w-full">
                                <thead className="bg-gray-100">
                                    <tr>
                                        <th className="px-4 py-3 text-left text-sm font-semibold">CIDR</th>
                                        <th className="px-4 py-3 text-left text-sm font-semibold">Subnet Mask</th>
                                        <th className="px-4 py-3 text-left text-sm font-semibold">Total Hosts</th>
                                        <th className="px-4 py-3 text-left text-sm font-semibold">Usable Hosts</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y">
                                    {cidrs.map((item) => (
                                        <tr key={item.cidr} className="hover:bg-gray-50">
                                            <td className="px-4 py-3 font-mono font-bold text-blue-600">/{item.cidr}</td>
                                            <td className="px-4 py-3 font-mono">{item.mask}</td>
                                            <td className="px-4 py-3 font-mono">{item.hosts.toLocaleString()}</td>
                                            <td className="px-4 py-3 font-mono text-green-600">{item.usable.toLocaleString()}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                );
            };

            // Ports Reference
            const PortsReference = () => {
                const ports = [
                    { port: '20-21', protocol: 'FTP', description: 'File Transfer Protocol', layer: 'Application' },
                    { port: '22', protocol: 'SSH', description: 'Secure Shell', layer: 'Application' },
                    { port: '23', protocol: 'Telnet', description: 'Telnet (insecure)', layer: 'Application' },
                    { port: '25', protocol: 'SMTP', description: 'Simple Mail Transfer Protocol', layer: 'Application' },
                    { port: '53', protocol: 'DNS', description: 'Domain Name System', layer: 'Application' },
                    { port: '67-68', protocol: 'DHCP', description: 'Dynamic Host Configuration', layer: 'Application' },
                    { port: '80', protocol: 'HTTP', description: 'Hypertext Transfer Protocol', layer: 'Application' },
                    { port: '110', protocol: 'POP3', description: 'Post Office Protocol v3', layer: 'Application' },
                    { port: '143', protocol: 'IMAP', description: 'Internet Message Access Protocol', layer: 'Application' },
                    { port: '161-162', protocol: 'SNMP', description: 'Simple Network Management', layer: 'Application' },
                    { port: '389', protocol: 'LDAP', description: 'Lightweight Directory Access', layer: 'Application' },
                    { port: '443', protocol: 'HTTPS', description: 'HTTP Secure', layer: 'Application' },
                    { port: '445', protocol: 'SMB', description: 'Server Message Block', layer: 'Application' },
                    { port: '636', protocol: 'LDAPS', description: 'LDAP over SSL', layer: 'Application' },
                    { port: '3306', protocol: 'MySQL', description: 'MySQL Database', layer: 'Application' },
                    { port: '3389', protocol: 'RDP', description: 'Remote Desktop Protocol', layer: 'Application' },
                    { port: '5432', protocol: 'PostgreSQL', description: 'PostgreSQL Database', layer: 'Application' },
                    { port: '8080', protocol: 'HTTP-Alt', description: 'HTTP Alternate', layer: 'Application' },
                ];

                return (
                    <div className="bg-white rounded-lg shadow-lg p-6">
                        <h3 className="text-2xl font-bold mb-4">Common Ports Reference</h3>
                        <div className="overflow-x-auto">
                            <table className="w-full">
                                <thead className="bg-gray-100">
                                    <tr>
                                        <th className="px-4 py-3 text-left text-sm font-semibold">Port</th>
                                        <th className="px-4 py-3 text-left text-sm font-semibold">Protocol</th>
                                        <th className="px-4 py-3 text-left text-sm font-semibold">Description</th>
                                        <th className="px-4 py-3 text-left text-sm font-semibold">Layer</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y">
                                    {ports.map((item, idx) => (
                                        <tr key={idx} className="hover:bg-gray-50">
                                            <td className="px-4 py-3 font-mono font-bold text-blue-600">{item.port}</td>
                                            <td className="px-4 py-3 font-semibold">{item.protocol}</td>
                                            <td className="px-4 py-3 text-gray-600">{item.description}</td>
                                            <td className="px-4 py-3 text-sm text-gray-500">{item.layer}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                );
            };

            // OSI Model Reference
            const OSIReference = () => {
                const layers = [
                    { layer: 7, name: 'Application', protocols: 'HTTP, HTTPS, FTP, SSH, DNS, SMTP', function: 'End-user services' },
                    { layer: 6, name: 'Presentation', protocols: 'SSL/TLS, JPEG, MPEG', function: 'Data translation & encryption' },
                    { layer: 5, name: 'Session', protocols: 'NetBIOS, RPC', function: 'Session management' },
                    { layer: 4, name: 'Transport', protocols: 'TCP, UDP', function: 'End-to-end connections' },
                    { layer: 3, name: 'Network', protocols: 'IP, ICMP, OSPF, BGP', function: 'Routing & logical addressing' },
                    { layer: 2, name: 'Data Link', protocols: 'Ethernet, PPP, VLAN', function: 'Physical addressing (MAC)' },
                    { layer: 1, name: 'Physical', protocols: 'Cables, Hubs, Repeaters', function: 'Bit transmission' }
                ];

                return (
                    <div className="bg-white rounded-lg shadow-lg p-6">
                        <h3 className="text-2xl font-bold mb-4">OSI Model Reference</h3>
                        <div className="space-y-3">
                            {layers.map((item) => (
                                <div key={item.layer} className="border-l-4 border-blue-500 bg-gradient-to-r from-blue-50 to-white p-4 rounded-r-lg">
                                    <div className="flex items-center gap-4 mb-2">
                                        <div className="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold">
                                            {item.layer}
                                        </div>
                                        <h4 className="font-bold text-lg">{item.name} Layer</h4>
                                    </div>
                                    <p className="text-sm text-gray-600 mb-1"><strong>Function:</strong> {item.function}</p>
                                    <p className="text-sm text-gray-600"><strong>Protocols:</strong> {item.protocols}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                );
            };

            const tabs = [
                { id: 'subnet', label: 'Subnet Calculator' },
                { id: 'cidr', label: 'CIDR Reference' },
                { id: 'ports', label: 'Ports' },
                { id: 'osi', label: 'OSI Model' }
            ];

            return (
                <div className="min-h-screen bg-gray-50">
                    <header className="bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg">
                        <div className="container mx-auto px-4 py-6">
                            <div className="flex items-center justify-between">
                                <div>
                                    <h1 className="text-3xl font-bold">Network Tools</h1>
                                    <p className="text-sm opacity-90">by Balamurugan Sivaraman</p>
                                </div>
                                <a href="/" className="bg-white text-blue-600 px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 transition">
                                    ← Back to Home
                                </a>
                            </div>
                        </div>
                    </header>

                    <nav className="bg-white shadow-md sticky top-0 z-50">
                        <div className="container mx-auto px-4">
                            <div className="flex gap-2 overflow-x-auto py-2">
                                {tabs.map(tab => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`px-6 py-2 rounded-lg whitespace-nowrap font-medium transition ${
                                            activeTab === tab.id
                                                ? 'bg-blue-600 text-white'
                                                : 'text-gray-600 hover:bg-gray-100'
                                        }`}
                                    >
                                        {tab.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </nav>

                    <main className="container mx-auto px-4 py-8">
                        {activeTab === 'subnet' && <SubnetCalculator />}
                        {activeTab === 'cidr' && <CIDRReference />}
                        {activeTab === 'ports' && <PortsReference />}
                        {activeTab === 'osi' && <OSIReference />}
                    </main>

                    <footer className="bg-gray-800 text-white py-6 mt-12">
                        <div className="container mx-auto px-4 text-center">
                            <p>© 2024 Balamurugan Sivaraman - Network Tools</p>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('app'));
    </script>
</body>
</html>
